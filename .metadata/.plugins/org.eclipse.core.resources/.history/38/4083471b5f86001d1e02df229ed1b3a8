<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn" %>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>detail</title>
<style>
*{
margin: 0;
padding: 0;
}
html, body{
	height: 100%;
}
body{
	display: flex;
	flex-direction: column;
}
section{
	flex: 1;
}
h1{
text-indent:20px;
padding: 10px 0;
}
form{
max-width: 900px;
margin:0 auto;
}
h3{
text-align: center;
padding: 30px 0;
}
.card{
margin:0 auto;
top:50%;
transform:translateY(-50%);
}
</style>
</head>
<body>
	<jsp:include page="../layout/header.jsp"></jsp:include>
	<section>
	 <div class="card" style="width: 50rem;">
		  <ul class="list-group list-group-flush">
		    <li class="list-group-item">ë²ˆí˜¸ | ${bvo.bno }</li>
		    <li class="list-group-item">ì œëª© | ${bvo.title }</li>
		    <li class="list-group-item">
			    <div class="card-body">
			    	<p class="card-text">${bvo.content }</p>
			    </div>
			    <!-- file í‘œí˜„ë¼ì¸ -->
			    <div class="card-body">
			    	<ul>
			    		<c:forEach items="${fList }" var="fvo">
			    			<!-- íŒŒì¼ì´ ì—¬ëŸ¬ê°œì¼ë•Œ ë°˜ë³µì ìœ¼ë¡œ li ì¶”ê°€ -->
			    			<li>
			    				<c:choose>
			    					<c:when test="${fvo.file_type > 0 }">
			    						<div>
			    							<img src="/upload/${fn:replace(fvo.save_dir, '\\', '/')}">
			    						</div>
			    					</c:when>
			    				</c:choose>
			    			</li>
			    		</c:forEach>
			    	</ul>
			    </div>
		    </li>
		    <li class="list-group-item">ì‘ì„±ì | ${bvo.writer }</li>
		    <li class="list-group-item">ì‘ì„±ì¼ | ${bvo.registerDate }</li>
		    <li class="list-group-item">ì¡°íšŒìˆ˜ | ${bvo.read_count }</li>
		  </ul>
		  <div class="card-body">
		 	 <a href="/list" class="card-link"><button type="button" class="btn btn-outline-primary">ëª©ë¡</button></a>
		  <c:if test="${ses != null && ses.id eq bvo.writer }">
		    <a href="/modify?bno=${bvo.bno }" class="card-link"><button type="button" class="btn btn-outline-primary">ìˆ˜ì •</button></a>
		    <a href="/delete?bno=${bvo.bno }" class="card-link"><button type="button" class="btn btn-outline-primary">ì‚­ì œ</button></a>
		  </c:if>
		  </div>
		<div class="container">
		<div class="input-group my-3">
			<span class="input-group-text" id="cmtWriter">${ses.id }</span>
			<input type="text" class="form-control" id="cmtText" placeholder="Test Add Comment ">
			<button class="btn btn-success" id="cmtPostBtn" type="button">ğŸ’¬</button>
		</div>
		<ul class="list-group list-group-flush" id="cmtListArea">
		  <!-- ëŒ“ê¸€ëª©ë¡ -->
		</ul>
	</div>
		</div>
	</section>
	<jsp:include page="../layout/footer.jsp"></jsp:include>
	<script type="text/javascript" src="../resources/js/boardComment.js"></script>
	<script type="text/javascript">
		const bnoVal = '<c:out value="${bvo.bno}"/>';
	</script>
	<script type="text/javascript">
		getCommentList(bnoVal);
	</script>